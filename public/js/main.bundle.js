!function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[i]={exports:{}};t[i][0].call(s.exports,(function(e){return o(t[i][1][e]||e)}),s,s.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./Game")),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"create",value:function(e){var t=document.createElement("div");return t.className="game-block",t.setAttribute("data-id",JSON.stringify(e.id)),t.setAttribute("data-name",e.icon),t.innerHTML='\n      <div class="game-block__front"></div>\n      <div class="game-block__back">\n        <img class="game-block__img" src="./assets/icons/'+e.icon+'.svg" alt="'+e.icon+'">\n      </div>\n    ',t}},{key:"flip",value:function(e,t){var n=e.classList.contains("flipped"),r=parseInt(e.dataset.id),o=e.dataset.name,i=a.default.prevBlock;if(!n&&!a.default.isGameBlocked){if(e.classList.add("flipped"),a.default.isGameBlocked=!0,!i)return a.default.prevBlock={id:r,icon:o},void(a.default.isGameBlocked=!1);o===i.icon?a.default.success(t):a.default.fail(t,e)}}}]),e}();n.default=i},{"./Game":2}],2:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./UI")),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"init",value:function(){a.default.displayBlocks()}},{key:"fireSound",value:function(e){var t=new Audio("./assets/sounds/"+e+".mp3");t.volume=.6,t.play()}},{key:"fail",value:function(t,n){var r=document.querySelectorAll('[data-name="'+e.prevBlock.icon+'"]');e.prevBlock=null,t.updateRetries(),t.checkRetries()||setTimeout((function(){n.classList.remove("flipped"),r.forEach((function(e){return e.classList.remove("flipped")})),e.isGameBlocked=!1,e.fireSound("fail")}),800)}},{key:"success",value:function(t){e.fireSound("success"),e.prevBlock=null,e.isGameBlocked=!1,t.updateScore()}},{key:"over",value:function(){a.default.showModal("fail"),e.fireSound("over"),document.querySelector("body").scrollTo({top:0,behavior:"smooth"})}},{key:"won",value:function(){a.default.showModal("success"),e.fireSound("won"),document.querySelector("body").scrollTo({top:0,behavior:"smooth"})}},{key:"restart",value:function(t){e.prevBlock=null,e.isGameBlocked=!1,t.resetInfo(),a.default.resetBlocks(),a.default.hideModal(null)}}]),e}();n.default=i,i.isGameBlocked=!1,i.maxRetries=15},{"./UI":4}],3:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./Game")),i=o(e("./UI")),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.tries=0,this.score=0}return r(e,[{key:"getInfo",value:function(){return{name:this.name,tries:this.tries,score:this.score}}},{key:"resetInfo",value:function(){this.tries=0,this.score=0,i.default.updatePlayerInfo(this.getInfo())}},{key:"checkRetries",value:function(){var e=a.default.maxRetries===this.tries;return e&&a.default.over(),e}},{key:"updateRetries",value:function(){this.tries++,i.default.updatePlayerInfo(this.getInfo())}},{key:"updateScore",value:function(){this.score<10&&(this.score++,i.default.updatePlayerInfo(this.getInfo())),10===this.score&&a.default.won()}}]),e}();n.default=u},{"./Game":2,"./UI":4}],4:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./Block")),i=o(e("./Game")),u=e("../helpers/utils"),l=document.querySelector("#playerName"),c=document.querySelector("#playerScore"),s=document.querySelector("#playerRetries"),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"updatePlayerInfo",value:function(e){l.textContent=e.name,c.innerHTML='\n      <span>Score: </span>\n      <span class="text-brand">'+e.score+"</span> /\n      <span>10</span>\n    ",s.innerHTML='\n      <span>Retries: </span>\n      <span class="text-brand">'+e.tries+"</span> /\n      <span>"+i.default.maxRetries+"</span>\n    "}},{key:"displayBlocks",value:function(){(0,u.shuffleData)().forEach((function(e){var t=a.default.create(e);document.querySelector("#blockContainer").appendChild(t)}))}},{key:"resetBlocks",value:function(){var e=Array.from(document.querySelectorAll(".game-block")),t=Array.from({length:20},(function(e,t){return t+1}));t=t.sort((function(e,t){return.5-Math.random()})),e.forEach((function(e,n){e.classList.contains("flipped")&&e.classList.remove("flipped"),e.style.order=""+t[n]}))}},{key:"showModal",value:function(e){var t=document.querySelector("#"+e+"Modal");t&&(t.classList.remove("hidden"),document.querySelector("body").style.overflow="hidden")}},{key:"hideModal",value:function(e){if(e){var t=document.querySelector("#"+e+"Modal");if(!t)return;t.classList.add("hidden")}else document.querySelectorAll(".modal").forEach((function(e){e.classList.add("hidden")}));document.querySelector("body").style.overflow="auto"}}]),e}();n.default=d},{"../helpers/utils":7,"./Block":1,"./Game":2}],5:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Block=n.Player=n.UI=n.Game=void 0;var o=r(e("./Game"));n.Game=o.default;var a=r(e("./UI"));n.UI=a.default;var i=r(e("./Player"));n.Player=i.default;var u=r(e("./Block"));n.Block=u.default},{"./Block":1,"./Game":2,"./Player":3,"./UI":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=[{id:1,icon:"youtube"},{id:2,icon:"youtube"},{id:3,icon:"wordpress"},{id:4,icon:"wordpress"},{id:5,icon:"windows"},{id:6,icon:"windows"},{id:7,icon:"wifi"},{id:8,icon:"wifi"},{id:9,icon:"whatsapp"},{id:10,icon:"whatsapp"},{id:11,icon:"webcam"},{id:12,icon:"webcam"},{id:13,icon:"wallet"},{id:14,icon:"wallet"},{id:15,icon:"vimeo"},{id:16,icon:"vimeo"},{id:17,icon:"usb"},{id:18,icon:"usb"},{id:19,icon:"twitter"},{id:20,icon:"twitter"}]},{}],7:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.shuffleData=n.getRandomNumber=void 0;var o=r(e("../helpers/data"));n.getRandomNumber=function(e){return Math.floor(Math.random()*(e+1))};n.shuffleData=function(){for(var e=[],t=[],r=function(){var r=(0,n.getRandomNumber)(o.default.length);if(!t.includes(r)){var a=o.default.find((function(e){return e.id===r}));a&&(e.push(a),t.push(a.id))}};e.length<20;)r();return e}},{"../helpers/data":6}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./classes"),o=document.querySelector("#formData"),a=document.querySelector("#try-again"),i=document.querySelector("#play-again"),u=null;document.addEventListener("DOMContentLoaded",(function(){r.Game.init(),document.querySelectorAll(".game-block").forEach((function(e){e.addEventListener("click",(function(){return r.Block.flip(e,u)}))})),a.addEventListener("click",(function(){return r.Game.restart(u)})),i.addEventListener("click",(function(){return r.Game.restart(u)}))})),o.addEventListener("submit",(function(e){e.preventDefault();var t=o.getElementsByClassName("player-name")[0];t.value&&(u=new r.Player(t.value),r.UI.updatePlayerInfo(u.getInfo()),r.UI.hideModal("welcome"))}))},{"./classes":5}]},{},[8]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJtYWluLmJ1bmRsZS5qcyIsInNyYy9qcy9jbGFzc2VzL0Jsb2NrLnRzIiwic3JjL2pzL2NsYXNzZXMvR2FtZS50cyIsInNyYy9qcy9jbGFzc2VzL1BsYXllci50cyIsInNyYy9qcy9jbGFzc2VzL1VJLnRzIiwic3JjL2pzL2NsYXNzZXMvaW5kZXgudHMiLCJzcmMvanMvaGVscGVycy9kYXRhLnRzIiwic3JjL2pzL2hlbHBlcnMvdXRpbHMudHMiLCJzcmMvanMvbWFpbi50cyJdLCJuYW1lcyI6WyJyIiwiZSIsIm4iLCJ0IiwibyIsImkiLCJmIiwiYyIsInJlcXVpcmUiLCJ1IiwiYSIsIkVycm9yIiwiY29kZSIsInAiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIm1vZHVsZSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ2YWx1ZSIsIkdhbWVfMSIsIkJsb2NrIiwiaW5zdGFuY2UiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiYmxvY2tJbmZvIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwiaWNvbiIsImlubmVySFRNTCIsImVsZSIsInBsYXllciIsImZsaXBwZWQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInBhcnNlSW50IiwiZGF0YXNldCIsIm5hbWUiLCJwcmV2QmxvY2siLCJpc0dhbWVCbG9ja2VkIiwiYWRkIiwic3VjY2VzcyIsImZhaWwiLCJVSV8xIiwiR2FtZSIsImRpc3BsYXlCbG9ja3MiLCJzb3VuZFR5cGUiLCJhdWRpbyIsIkF1ZGlvIiwidm9sdW1lIiwicGxheSIsImZsaXBwZWRCbG9ja3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwidXBkYXRlUmV0cmllcyIsImNoZWNrUmV0cmllcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJmb3JFYWNoIiwiZmlyZVNvdW5kIiwidXBkYXRlU2NvcmUiLCJzaG93TW9kYWwiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsInJlc2V0SW5mbyIsInJlc2V0QmxvY2tzIiwiaGlkZU1vZGFsIiwibWF4UmV0cmllcyIsIlBsYXllciIsInRyaWVzIiwic2NvcmUiLCJ1cGRhdGVQbGF5ZXJJbmZvIiwiZ2V0SW5mbyIsImlzT3ZlciIsIm92ZXIiLCJ3b24iLCJCbG9ja18xIiwidXRpbHNfMSIsIm5hbWVDb250YWluZXIiLCJzY29yZUNvbnRhaW5lciIsInJldHJpZXNDb250YWluZXIiLCJVSSIsInRleHRDb250ZW50Iiwic2h1ZmZsZURhdGEiLCJibG9jayIsImJsb2NrRWxlIiwiY3JlYXRlIiwiYXBwZW5kQ2hpbGQiLCJibG9ja3MiLCJBcnJheSIsImZyb20iLCJvcmRlcnMiLCJ2Iiwic29ydCIsImIiLCJNYXRoIiwicmFuZG9tIiwiaW5kZXgiLCJzdHlsZSIsIm9yZGVyIiwibW9kYWwiLCJvdmVyZmxvdyIsIlBsYXllcl8xIiwiZ2V0UmFuZG9tTnVtYmVyIiwiZGF0YV8xIiwibWF4IiwiZmxvb3IiLCJvcmRlcmVkRGF0YSIsImluY2x1ZGVkRGF0YSIsIl9sb29wIiwicmFuZG9tSW5kZXgiLCJpbmNsdWRlcyIsImJsb2NrRGF0YSIsImZpbmQiLCJwdXNoIiwiY2xhc3Nlc18xIiwiZm9ybSIsInRyeUJ1dHRvbiIsInBsYXlCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdCIsImZsaXAiLCJyZXN0YXJ0IiwicHJldmVudERlZmF1bHQiLCJwbGF5ZXJOYW1lSW5wdXQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLENBQUEsQ0FBQSxJQUFBRyxFQUFBWCxFQUFBRyxHQUFBLENBQUFTLFFBQUEsQ0FBQSxHQUFBYixFQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFNBQUEsU0FBQWQsR0FBQSxPQUFBSSxFQUFBSCxFQUFBSSxHQUFBLEdBQUFMLElBQUFBLEVBQUEsR0FBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQSxDQUFBLE9BQUFELEVBQUFHLEdBQUFTLE9BQUEsQ0FBQSxJQUFBLElBQUFMLEVBQUEsbUJBQUFELFNBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQWEsT0FBQVgsSUFBQUQsRUFBQUQsRUFBQUUsSUFBQSxPQUFBRCxDQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxTQUFBSSxFQUFBUyxFQUFBSCxHQ0NBLGFBRUEsSUFBSUksRUFBZSxXQUFjLFNBQVNDLEVBQWlCQyxFQUFRQyxHQUFTLElBQUssSUFBSWhCLEVBQUksRUFBR0EsRUFBSWdCLEVBQU1MLE9BQVFYLElBQUssQ0FBRSxJQUFJaUIsRUFBYUQsRUFBTWhCLEdBQUlpQixFQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdB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biByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIixudWxsLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9HYW1lXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvY2sge1xyXG5cclxuICBzdGF0aWMgY3JlYXRlKGJsb2NrSW5mbzogeyBpZDogbnVtYmVyOyBpY29uOiBzdHJpbmc7IH0pOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRpdi5jbGFzc05hbWUgPSAnZ2FtZS1ibG9jayc7XHJcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgSlNPTi5zdHJpbmdpZnkoYmxvY2tJbmZvLmlkKSk7XHJcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCBibG9ja0luZm8uaWNvbik7XHJcblxyXG4gICAgZGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgPGRpdiBjbGFzcz1cImdhbWUtYmxvY2tfX2Zyb250XCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJnYW1lLWJsb2NrX19iYWNrXCI+XHJcbiAgICAgICAgPGltZyBjbGFzcz1cImdhbWUtYmxvY2tfX2ltZ1wiIHNyYz1cIi4vYXNzZXRzL2ljb25zLyR7YmxvY2tJbmZvLmljb259LnN2Z1wiIGFsdD1cIiR7YmxvY2tJbmZvLmljb259XCI+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICByZXR1cm4gZGl2O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZsaXAoZWxlOiBIVE1MRWxlbWVudCwgcGxheWVyOiBQbGF5ZXIpOiB2b2lkIHtcclxuXHJcbiAgICBsZXQgZmxpcHBlZDogYm9vbGVhbiA9IGVsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsaXBwZWQnKTtcclxuICAgIGxldCBpZDogbnVtYmVyID0gcGFyc2VJbnQoZWxlLmRhdGFzZXQuaWQpO1xyXG4gICAgbGV0IG5hbWU6IHN0cmluZyA9IGVsZS5kYXRhc2V0Lm5hbWU7XHJcbiAgICBsZXQgcHJldkJsb2NrID0gR2FtZS5wcmV2QmxvY2s7XHJcblxyXG4gICAgaWYgKGZsaXBwZWQgfHwgR2FtZS5pc0dhbWVCbG9ja2VkKSByZXR1cm47XHJcblxyXG4gICAgZWxlLmNsYXNzTGlzdC5hZGQoJ2ZsaXBwZWQnKTtcclxuICAgIEdhbWUuaXNHYW1lQmxvY2tlZCA9IHRydWU7XHJcblxyXG4gICAgLy8gZmlyc3QgYmxvY2sgY2hlY2tlZFxyXG4gICAgaWYgKCFwcmV2QmxvY2spIHtcclxuICAgICAgR2FtZS5wcmV2QmxvY2sgPSB7IGlkLCBpY29uOiBuYW1lIH07XHJcbiAgICAgIEdhbWUuaXNHYW1lQmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYmxvY2tzIGNoZWNraW5nIGZhaWxkXHJcbiAgICBpZiAobmFtZSAhPT0gcHJldkJsb2NrLmljb24pIHtcclxuICAgICAgR2FtZS5mYWlsKHBsYXllciwgZWxlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGJsb2NrcyBjaGVja2luZyBzdWNjZXNzZWRcclxuICAgIEdhbWUuc3VjY2VzcyhwbGF5ZXIpO1xyXG4gIH1cclxufTsiLCJpbXBvcnQgeyBCbG9jayB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllcic7XHJcbmltcG9ydCBVSSBmcm9tICcuL1VJJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xyXG4gIHN0YXRpYyBwcmV2QmxvY2s6IEJsb2NrIHwgbnVsbDtcclxuICBzdGF0aWMgaXNHYW1lQmxvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHN0YXRpYyBtYXhSZXRyaWVzOiBudW1iZXIgPSAxNTtcclxuXHJcblxyXG4gIHN0YXRpYyBpbml0KCk6IHZvaWQge1xyXG4gICAgVUkuZGlzcGxheUJsb2NrcygpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZpcmVTb3VuZChzb3VuZFR5cGU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYC4vYXNzZXRzL3NvdW5kcy8ke3NvdW5kVHlwZX0ubXAzYCk7XHJcbiAgICBhdWRpby52b2x1bWUgPSAwLjY7XHJcbiAgICBhdWRpby5wbGF5KCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZmFpbChwbGF5ZXI6IFBsYXllciwgZWxlOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgY29uc3QgZmxpcHBlZEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLW5hbWU9XCIke0dhbWUucHJldkJsb2NrLmljb259XCJdYCk7XHJcblxyXG4gICAgR2FtZS5wcmV2QmxvY2sgPSBudWxsO1xyXG5cclxuICAgIHBsYXllci51cGRhdGVSZXRyaWVzKCk7XHJcblxyXG4gICAgaWYgKHBsYXllci5jaGVja1JldHJpZXMoKSkgcmV0dXJuO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBlbGUuY2xhc3NMaXN0LnJlbW92ZSgnZmxpcHBlZCcpO1xyXG4gICAgICBmbGlwcGVkQmxvY2tzLmZvckVhY2goZWxlID0+IGVsZS5jbGFzc0xpc3QucmVtb3ZlKCdmbGlwcGVkJykpO1xyXG4gICAgICBHYW1lLmlzR2FtZUJsb2NrZWQgPSBmYWxzZTtcclxuICAgICAgR2FtZS5maXJlU291bmQoJ2ZhaWwnKTtcclxuICAgIH0sIDgwMCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc3VjY2VzcyhwbGF5ZXI6IFBsYXllcik6IHZvaWQge1xyXG4gICAgR2FtZS5maXJlU291bmQoJ3N1Y2Nlc3MnKTtcclxuICAgIEdhbWUucHJldkJsb2NrID0gbnVsbDtcclxuICAgIEdhbWUuaXNHYW1lQmxvY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgIHBsYXllci51cGRhdGVTY29yZSgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG92ZXIoKTogdm9pZCB7XHJcbiAgICBVSS5zaG93TW9kYWwoJ2ZhaWwnKTtcclxuICAgIEdhbWUuZmlyZVNvdW5kKCdvdmVyJyk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc2Nyb2xsVG8oe1xyXG4gICAgICB0b3A6IDAsXHJcbiAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgd29uKCk6IHZvaWQge1xyXG4gICAgVUkuc2hvd01vZGFsKCdzdWNjZXNzJyk7XHJcbiAgICBHYW1lLmZpcmVTb3VuZCgnd29uJyk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc2Nyb2xsVG8oe1xyXG4gICAgICB0b3A6IDAsXHJcbiAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcmVzdGFydChwbGF5ZXI6IFBsYXllcik6IHZvaWQge1xyXG4gICAgR2FtZS5wcmV2QmxvY2sgPSBudWxsO1xyXG4gICAgR2FtZS5pc0dhbWVCbG9ja2VkID0gZmFsc2U7XHJcbiAgICBwbGF5ZXIucmVzZXRJbmZvKCk7XHJcbiAgICBVSS5yZXNldEJsb2NrcygpO1xyXG4gICAgVUkuaGlkZU1vZGFsKG51bGwpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBsYXllciBhcyBQbGF5ZXJUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi9HYW1lXCI7XHJcbmltcG9ydCBVSSBmcm9tICcuL1VJJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciB7XHJcbiAgcHJpdmF0ZSB0cmllczogbnVtYmVyO1xyXG4gIHByaXZhdGUgc2NvcmU6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IgKHByaXZhdGUgbmFtZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnRyaWVzID0gMDtcclxuICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5mbygpOiBQbGF5ZXJUeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgdHJpZXM6IHRoaXMudHJpZXMsXHJcbiAgICAgIHNjb3JlOiB0aGlzLnNjb3JlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJlc2V0SW5mbygpOiB2b2lkIHtcclxuICAgIHRoaXMudHJpZXMgPSAwO1xyXG4gICAgdGhpcy5zY29yZSA9IDA7XHJcblxyXG4gICAgVUkudXBkYXRlUGxheWVySW5mbyh0aGlzLmdldEluZm8oKSk7XHJcbiAgfVxyXG5cclxuICBjaGVja1JldHJpZXMoKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgaXNPdmVyID0gR2FtZS5tYXhSZXRyaWVzID09PSB0aGlzLnRyaWVzO1xyXG5cclxuICAgIGlmIChpc092ZXIpXHJcbiAgICAgIEdhbWUub3ZlcigpO1xyXG5cclxuICAgIHJldHVybiBpc092ZXI7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVSZXRyaWVzKCk6IHZvaWQge1xyXG4gICAgdGhpcy50cmllcysrO1xyXG4gICAgVUkudXBkYXRlUGxheWVySW5mbyh0aGlzLmdldEluZm8oKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTY29yZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnNjb3JlIDwgMTApIHtcclxuICAgICAgdGhpcy5zY29yZSsrO1xyXG4gICAgICBVSS51cGRhdGVQbGF5ZXJJbmZvKHRoaXMuZ2V0SW5mbygpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zY29yZSA9PT0gMTApXHJcbiAgICAgIEdhbWUud29uKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IEJsb2NrIGZyb20gXCIuL0Jsb2NrXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuL0dhbWVcIjtcclxuaW1wb3J0IHsgUGxheWVyLCBCbG9jayBhcyBCbG9ja1R5cGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IHNodWZmbGVEYXRhIH0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XHJcblxyXG5jb25zdCBuYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYXllck5hbWUnKSBhcyBIVE1MRWxlbWVudDtcclxuY29uc3Qgc2NvcmVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxheWVyU2NvcmUnKSBhcyBIVE1MRWxlbWVudDtcclxuY29uc3QgcmV0cmllc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXJSZXRyaWVzJykgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSSB7XHJcbiAgc3RhdGljIHVwZGF0ZVBsYXllckluZm8ocGxheWVyOiBQbGF5ZXIpOiB2b2lkIHtcclxuICAgIG5hbWVDb250YWluZXIudGV4dENvbnRlbnQgPSBwbGF5ZXIubmFtZTtcclxuICAgIHNjb3JlQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgPHNwYW4+U2NvcmU6IDwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJyYW5kXCI+JHtwbGF5ZXIuc2NvcmV9PC9zcGFuPiAvXHJcbiAgICAgIDxzcGFuPjEwPC9zcGFuPlxyXG4gICAgYDtcclxuICAgIHJldHJpZXNDb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8c3Bhbj5SZXRyaWVzOiA8L3NwYW4+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1icmFuZFwiPiR7cGxheWVyLnRyaWVzfTwvc3Bhbj4gL1xyXG4gICAgICA8c3Bhbj4ke0dhbWUubWF4UmV0cmllc308L3NwYW4+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGRpc3BsYXlCbG9ja3MoKTogdm9pZCB7XHJcbiAgICBjb25zdCBibG9ja3NEYXRhOiBCbG9ja1R5cGVbXSA9IHNodWZmbGVEYXRhKCk7XHJcblxyXG4gICAgYmxvY2tzRGF0YS5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgbGV0IGJsb2NrRWxlID0gQmxvY2suY3JlYXRlKGJsb2NrKTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jsb2NrQ29udGFpbmVyJykuYXBwZW5kQ2hpbGQoYmxvY2tFbGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcmVzZXRCbG9ja3MoKTogdm9pZCB7XHJcbiAgICBjb25zdCBibG9ja3M6IEhUTUxFbGVtZW50W10gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYW1lLWJsb2NrJykpO1xyXG4gICAgbGV0IG9yZGVyczogbnVtYmVyW10gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAodiwgaSkgPT4gaSArIDEpO1xyXG4gICAgb3JkZXJzID0gb3JkZXJzLnNvcnQoKGEsIGIpID0+IDAuNSAtIE1hdGgucmFuZG9tKCkpO1xyXG5cclxuICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jazogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgaWYgKGJsb2NrLmNsYXNzTGlzdC5jb250YWlucygnZmxpcHBlZCcpKSB7XHJcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnZmxpcHBlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBibG9jay5zdHlsZS5vcmRlciA9IGAke29yZGVyc1tpbmRleF19YDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dNb2RhbChpZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfU1vZGFsYCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBpZiAoIW1vZGFsKSByZXR1cm47XHJcblxyXG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlTW9kYWwoaWQ6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcclxuICAgIGlmIChpZCkge1xyXG4gICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfU1vZGFsYCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgIGlmICghbW9kYWwpIHJldHVybjtcclxuXHJcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gaGlkZSBhbnkgYWN0aXZlIG1vZGFsXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbCcpLmZvckVhY2gobW9kYWwgPT4ge1xyXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCBHYW1lIGZyb20gJy4vR2FtZSc7XHJcbmltcG9ydCBVSSBmcm9tICcuL1VJJztcclxuaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllcic7XHJcbmltcG9ydCBCbG9jayBmcm9tICcuL0Jsb2NrJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBHYW1lLFxyXG4gICAgVUksXHJcbiAgICBQbGF5ZXIsXHJcbiAgICBCbG9jayxcclxufTsiLCJleHBvcnQgZGVmYXVsdCBbXHJcbiAge1xyXG4gICAgaWQ6IDEsXHJcbiAgICBpY29uOiAneW91dHViZScsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMixcclxuICAgIGljb246ICd5b3V0dWJlJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDMsXHJcbiAgICBpY29uOiAnd29yZHByZXNzJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDQsXHJcbiAgICBpY29uOiAnd29yZHByZXNzJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDUsXHJcbiAgICBpY29uOiAnd2luZG93cydcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiA2LFxyXG4gICAgaWNvbjogJ3dpbmRvd3MnXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogNyxcclxuICAgIGljb246ICd3aWZpJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDgsXHJcbiAgICBpY29uOiAnd2lmaSdcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiA5LFxyXG4gICAgaWNvbjogJ3doYXRzYXBwJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDEwLFxyXG4gICAgaWNvbjogJ3doYXRzYXBwJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDExLFxyXG4gICAgaWNvbjogJ3dlYmNhbSdcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAxMixcclxuICAgIGljb246ICd3ZWJjYW0nXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMTMsXHJcbiAgICBpY29uOiAnd2FsbGV0J1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDE0LFxyXG4gICAgaWNvbjogJ3dhbGxldCdcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAxNSxcclxuICAgIGljb246ICd2aW1lbydcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAxNixcclxuICAgIGljb246ICd2aW1lbydcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAxNyxcclxuICAgIGljb246ICd1c2InXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMTgsXHJcbiAgICBpY29uOiAndXNiJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDE5LFxyXG4gICAgaWNvbjogJ3R3aXR0ZXInXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMjAsXHJcbiAgICBpY29uOiAndHdpdHRlcidcclxuICB9XHJcbl0iLCJpbXBvcnQgZGF0YSBmcm9tIFwiLi4vaGVscGVycy9kYXRhXCI7XHJcbmltcG9ydCB7IEJsb2NrIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFJhbmRvbU51bWJlciA9IChtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCArIDEpKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaHVmZmxlRGF0YSA9ICgpOiBCbG9ja1tdID0+IHtcclxuICAgIGNvbnN0IG9yZGVyZWREYXRhOiBCbG9ja1tdID0gW107XHJcbiAgICBjb25zdCBpbmNsdWRlZERhdGE6IG51bWJlcltdID0gW107XHJcblxyXG4gICAgd2hpbGUgKG9yZGVyZWREYXRhLmxlbmd0aCA8IDIwKSB7XHJcbiAgICAgICAgbGV0IHJhbmRvbUluZGV4ID0gZ2V0UmFuZG9tTnVtYmVyKGRhdGEubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgaWYgKCFpbmNsdWRlZERhdGEuaW5jbHVkZXMocmFuZG9tSW5kZXgpKSB7XHJcbiAgICAgICAgICAgIGxldCBibG9ja0RhdGEgPSBkYXRhLmZpbmQoYiA9PiBiLmlkID09PSByYW5kb21JbmRleCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYmxvY2tEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBvcmRlcmVkRGF0YS5wdXNoKGJsb2NrRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlZERhdGEucHVzaChibG9ja0RhdGEuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvcmRlcmVkRGF0YTtcclxufTsiLCJpbXBvcnQgeyBHYW1lLCBVSSwgUGxheWVyLCBCbG9jayB9IGZyb20gJy4vY2xhc3Nlcyc7XHJcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9ybURhdGEnKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XHJcbmNvbnN0IHRyeUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0cnktYWdhaW4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuY29uc3QgcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5LWFnYWluJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmxldCBwbGF5ZXI6IFBsYXllciA9IG51bGw7XHJcblxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gIEdhbWUuaW5pdCgpO1xyXG5cclxuICAvLyBjaGVjayBibG9ja3NcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FtZS1ibG9jaycpLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBCbG9jay5mbGlwKGJsb2NrIGFzIEhUTUxFbGVtZW50LCBwbGF5ZXIpKTtcclxuICB9KTtcclxuXHJcbiAgdHJ5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gR2FtZS5yZXN0YXJ0KHBsYXllcikpOyAvLyB0cnkgYWdhaW5cclxuICBwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gR2FtZS5yZXN0YXJ0KHBsYXllcikpOyAvLyBwbGF5IGFnYWluXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFBsYXllck5hbWUoZTogRXZlbnQpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IHBsYXllck5hbWVJbnB1dCA9IGZvcm0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLW5hbWUnKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICBpZiAocGxheWVyTmFtZUlucHV0LnZhbHVlKSB7XHJcbiAgICBwbGF5ZXIgPSBuZXcgUGxheWVyKHBsYXllck5hbWVJbnB1dC52YWx1ZSk7XHJcbiAgICBVSS51cGRhdGVQbGF5ZXJJbmZvKHBsYXllci5nZXRJbmZvKCkpO1xyXG4gICAgVUkuaGlkZU1vZGFsKCd3ZWxjb21lJyk7XHJcbiAgfVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCk7IC8vIEluaXQgR2FtZVxyXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHN1Ym1pdFBsYXllck5hbWUpOyAvLyBJbml0IFBsYXllclxyXG5cclxuXHJcbiJdfQ==
